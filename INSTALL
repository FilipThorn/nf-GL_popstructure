# Install instructions for nf-GL_popstructure

- Last modified: fre mar 07, 2025  04:14
- Sign: JN

---

TODO: Update this file.

Old:

1. Install [nextflow](https://www.nextflow.io/) (22.12 < version >= 19.04.
   **Note** The workflow requires a nextflow version that can run
   [dsl1](https://www.nextflow.io/docs/latest/dsl1.html)).

2. Install [Conda](https://conda.io/miniconda.html) (version >= 4.10)

3. Download or git clone this repository:

        $ git clone https://github.com/FilipThorn/nf-GL_popstructure

4. Download and install [PCAngsd](https://github.com/Rosemeis/pcangsd)

---


## Prerequisites

1. Python 3 and pip (e.g. `sudo apt install python3 python3-pip`)
2. [Nextflow](https://www.nextflow.io/docs/latest/getstarted.html#installation)
3. Conda ([miniconda](https://docs.conda.io/projects/conda/en/latest/user-guide/install/linux.html))

## Installation

Conda can be used to create an environment with needed packages:

    $ conda env create -f environment.yml

Alternatively (assuming conda is installed), call nextflow with the `-with-conda` option.

For a local installation of angsd, pcangsd, and NGSadmix, see below
(these installations will require compilers and make etc.).

    $ git clone --branch jn --recurse-submodules https://github.com/nylander/nf-GL_popstructure.git
    $ cd nf-GL_popstructure/pcangsd
    $ pip install --user -r requirements.txt
    $ python setup.py build_ext --inplace
    $ cp *.py *.so ../bin
    $ cd ..
    $ cd angsd
    $ make
    $ cp angsd bin/
    $ cp misc/NGSadmix bin/

